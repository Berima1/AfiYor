<!DOCTYPE html>  
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>AfriBot - Your African AI Assistant</title>  
    <style>  
        * {  
            margin: 0;  
            padding: 0;  
            box-sizing: border-box;  
        }  
  
        body {  
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;  
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);  
            min-height: 100vh;  
            color: #333;  
        }  
  
        .container {  
            max-width: 1200px;  
            margin: 0 auto;  
            padding: 20px;  
            display: grid;  
            grid-template-columns: 300px 1fr;  
            gap: 20px;  
            height: 100vh;  
        }  
  
        .sidebar {  
            background: rgba(255, 255, 255, 0.95);  
            border-radius: 20px;  
            padding: 30px;  
            backdrop-filter: blur(20px);  
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);  
        }  
  
        .logo {  
            text-align: center;  
            margin-bottom: 30px;  
        }  
  
        .logo h1 {  
            font-size: 2.5rem;  
            margin-bottom: 10px;  
        }  
  
        .logo .tagline {  
            color: #666;  
            margin-bottom: 15px;  
        }  
  
        .powered-by {  
            background: linear-gradient(45deg, #27ae60, #2ecc71);  
            color: white;  
            padding: 8px 16px;  
            border-radius: 20px;  
            font-size: 0.9rem;  
        }  
  
        .ubuntu-section {  
            background: linear-gradient(135deg, #27ae60, #2ecc71);  
            color: white;  
            padding: 20px;  
            border-radius: 15px;  
            margin-bottom: 25px;  
        }  
  
        .ubuntu-section h4 {  
            margin-bottom: 10px;  
        }  
  
        .ubuntu-quote {  
            font-style: italic;  
            opacity: 0.9;  
        }  
  
        .controls {  
            margin-bottom: 25px;  
        }  
  
        .form-group {  
            margin-bottom: 15px;  
        }  
  
        .form-group label {  
            display: block;  
            margin-bottom: 5px;  
            font-weight: 500;  
        }  
  
        .form-group select {  
            width: 100%;  
            padding: 10px;  
            border: 2px solid #ecf0f1;  
            border-radius: 10px;  
            font-size: 14px;  
            background: white;  
        }  
  
        .chat-container {  
            background: rgba(255, 255, 255, 0.95);  
            border-radius: 20px;  
            backdrop-filter: blur(20px);  
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);  
            display: flex;  
            flex-direction: column;  
        }  
  
        .chat-header {  
            background: linear-gradient(90deg, #3498db, #2980b9);  
            color: white;  
            padding: 25px;  
            border-radius: 20px 20px 0 0;  
            text-align: center;  
        }  
  
        .chat-messages {  
            flex: 1;  
            padding: 25px;  
            overflow-y: auto;  
            max-height: 400px;  
        }  
  
        .message {  
            margin-bottom: 20px;  
            display: flex;  
            align-items: flex-start;  
            gap: 12px;  
        }  
  
        .message.user {  
            flex-direction: row-reverse;  
        }  
  
        .message-avatar {  
            width: 40px;  
            height: 40px;  
            border-radius: 50%;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            font-weight: bold;  
            font-size: 16px;  
        }  
  
        .message.user .message-avatar {  
            background: #3498db;  
            color: white;  
        }  
  
        .message.bot .message-avatar {  
            background: #27ae60;  
            color: white;  
        }  
  
        .message-content {  
            max-width: 80%;  
            padding: 15px 20px;  
            border-radius: 20px;  
            line-height: 1.5;  
        }  
  
        .message.user .message-content {  
            background: #3498db;  
            color: white;  
            border-radius: 20px 20px 5px 20px;  
        }  
  
        .message.bot .message-content {  
            background: #f8f9fa;  
            color: #333;  
            border-radius: 20px 20px 20px 5px;  
            border-left: 4px solid #27ae60;  
        }  
  
        .message-meta {  
            font-size: 0.8rem;  
            opacity: 0.7;  
            margin-top: 5px;  
        }  
  
        .chat-input {  
            padding: 25px;  
            border-top: 1px solid #ecf0f1;  
            display: flex;  
            gap: 15px;  
        }  
  
        .chat-input input {  
            flex: 1;  
            padding: 15px 20px;  
            border: 2px solid #ecf0f1;  
            border-radius: 25px;  
            font-size: 16px;  
            outline: none;  
        }  
  
        .chat-input input:focus {  
            border-color: #3498db;  
        }  
  
        .chat-input button {  
            padding: 15px 25px;  
            background: #3498db;  
            color: white;  
            border: none;  
            border-radius: 25px;  
            cursor: pointer;  
            font-weight: 500;  
            transition: all 0.3s;  
        }  
  
        .chat-input button:hover {  
            background: #2980b9;  
            transform: translateY(-2px);  
        }  
  
        .chat-input button:disabled {  
            background: #bdc3c7;  
            cursor: not-allowed;  
            transform: none;  
        }  
  
        .typing-indicator {  
            display: none;  
            padding: 15px;  
            color: #7f8c8d;  
            font-style: italic;  
        }  
  
        .typing-dots {  
            display: inline-flex;  
            gap: 3px;  
        }  
  
        .typing-dot {  
            width: 6px;  
            height: 6px;  
            border-radius: 50%;  
            background: #3498db;  
            animation: typing 1.4s infinite;  
        }  
  
        .typing-dot:nth-child(2) { animation-delay: 0.2s; }  
        .typing-dot:nth-child(3) { animation-delay: 0.4s; }  
  
        @keyframes typing {  
            0%, 60%, 100% { transform: translateY(0); }  
            30% { transform: translateY(-10px); }  
        }  
  
        .features {  
            background: #f8f9fa;  
            padding: 20px;  
            border-radius: 15px;  
            margin-bottom: 20px;  
        }  
  
        .feature-item {  
            display: flex;  
            align-items: center;  
            margin-bottom: 10px;  
            font-size: 0.9rem;  
        }  
  
        .feature-item::before {  
            content: "‚úì";  
            color: #27ae60;  
            font-weight: bold;  
            margin-right: 10px;  
        }  
  
        @media (max-width: 768px) {  
            .container {  
                grid-template-columns: 1fr;  
                gap: 10px;  
                padding: 10px;  
            }  
              
            .sidebar {  
                padding: 20px;  
            }  
        }  
    </style>  
</head>  
<body>  
    <div class="container">  
        <!-- Sidebar -->  
        <div class="sidebar">  
            <div class="logo">  
                <h1>üåç AfriBot</h1>  
                <div class="tagline">Your African AI Assistant</div>  
                <div class="powered-by">Powered by Ubuntu AI</div>  
            </div>  
  
            <div class="ubuntu-section">  
                <h4>ü§ù Ubuntu Philosophy</h4>  
                <div class="ubuntu-quote">"I am because we are"</div>  
            </div>  
  
            <div class="controls">  
                <div class="form-group">  
                    <label>üåç Your Country</label>  
                    <select id="countrySelect">  
                        <option value="nigeria">üá≥üá¨ Nigeria</option>  
                        <option value="kenya">üá∞üá™ Kenya</option>  
                        <option value="south_africa">üáøüá¶ South Africa</option>  
                        <option value="ghana">üá¨üá≠ Ghana</option>  
                        <option value="egypt">üá™üá¨ Egypt</option>  
                        <option value="ethiopia">üá™üáπ Ethiopia</option>  
                        <option value="tanzania">üáπüáø Tanzania</option>  
                        <option value="uganda">üá∫üá¨ Uganda</option>  
                    </select>  
                </div>  
  
                <div class="form-group">  
                    <label>üó£Ô∏è Language</label>  
                    <select id="languageSelect">  
                        <option value="en">English</option>  
                        <option value="sw">Kiswahili</option>  
                        <option value="yo">Yoruba</option>  
                        <option value="am">Amharic</option>  
                        <option value="fr">Fran√ßais</option>  
                        <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</option>  
                    </select>  
                </div>  
            </div>  
  
            <div class="features">  
                <h4>‚ú® Features</h4>  
                <div class="feature-item">Ubuntu philosophy integration</div>  
                <div class="feature-item">African cultural intelligence</div>  
                <div class="feature-item">Business guidance</div>  
                <div class="feature-item">Mobile money expertise</div>  
                <div class="feature-item">Multi-language support</div>  
                <div class="feature-item">Community-first advice</div>  
            </div>  
        </div>  
  
        <!-- Chat Area -->  
        <div class="chat-container">  
            <div class="chat-header">  
                <h2>üåç Chat with AfriBot</h2>  
                <p>Your intelligent assistant for African business, culture, and Ubuntu philosophy</p>  
            </div>  
  
            <div class="chat-messages" id="chatMessages">  
                <!-- Messages will appear here -->  
            </div>  
  
            <div class="typing-indicator" id="typingIndicator">  
                <span>AfriBot is thinking</span>  
                <div class="typing-dots">  
                    <div class="typing-dot"></div>  
                    <div class="typing-dot"></div>  
                    <div class="typing-dot"></div>  
                </div>  
            </div>  
  
            <div class="chat-input">  
                <input   
                    type="text"   
                    id="messageInput"   
                    placeholder="Ask me about African business, Ubuntu philosophy, or startup advice..."  
                    maxlength="500"  
                >  
                <button onclick="sendMessage()">Send üöÄ</button>  
            </div>  
        </div>  
    </div>  
  
    <script>  
        // Configuration  
        const API_BASE = 'https://afribot-backend-h9iv.onrender.com';  
        let messageCount = 0;  
  
        // Add message to chat  
        function addMessage(content, isUser = false, metadata = {}) {  
            const messagesContainer = document.getElementById('chatMessages');  
            const messageDiv = document.createElement('div');  
            messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;  
              
            const avatarDiv = document.createElement('div');  
            avatarDiv.className = 'message-avatar';  
            avatarDiv.textContent = isUser ? 'U' : 'üåç';  
              
            const contentDiv = document.createElement('div');  
            contentDiv.className = 'message-content';  
            contentDiv.innerHTML = content;  
              
            // Add metadata for bot messages  
            if (!isUser && metadata.confidence) {  
                const metaDiv = document.createElement('div');  
                metaDiv.className = 'message-meta';  
                metaDiv.innerHTML = `Confidence: ${Math.round(metadata.confidence * 100)}% | Ubuntu AI`;  
                contentDiv.appendChild(metaDiv);  
            }  
              
            messageDiv.appendChild(avatarDiv);  
            messageDiv.appendChild(contentDiv);  
            messagesContainer.appendChild(messageDiv);  
              
            // Scroll to bottom  
            messagesContainer.scrollTop = messagesContainer.scrollHeight;  
        }  
  
        // Send message to API  
        async function sendMessage() {  
            const input = document.getElementById('messageInput');  
            const message = input.value.trim();  
            const country = document.getElementById('countrySelect').value;  
            const language = document.getElementById('languageSelect').value;  
              
            if (!message) return;  
              
            // Add user message  
            addMessage(message, true);  
            input.value = '';  
            messageCount++;  
              
            // Show typing indicator  
            document.getElementById('typingIndicator').style.display = 'block';  
              
            try {  
                // Call API  
                const response = await fetch(`${API_BASE}/chat`, {  
                    method: 'POST',  
                    headers: {  
                        'Content-Type': 'application/json',  
                    },  
                    body: JSON.stringify({  
                        message: message,  
                        country: country,  
                        language: language  
                    })  
                });  
                  
                const data = await response.json();  
                  
                // Hide typing indicator  
                document.getElementById('typingIndicator').style.display = 'none';  
                  
                if (data.response) {  
                    addMessage(data.response, false, {  
                        confidence: data.confidence,  
                        country: data.country  
                    });  
                } else {  
                    throw new Error('No response received');  
                }  
                  
            } catch (error) {  
                // Hide typing indicator  
                document.getElementById('typingIndicator').style.display = 'none';  
                  
                // Fallback response  
                addMessage(  
                    `Ubuntu teaches us resilience! üí™ I'm having trouble connecting to my servers, but I can still help you with African business advice. Try asking about:<br><br>  
                    ‚Ä¢ Starting a business in ${country.replace('_', ' ')}<br>  
                    ‚Ä¢ Ubuntu philosophy and community building<br>  
                    ‚Ä¢ Mobile money and fintech opportunities<br>  
                    ‚Ä¢ African startup ecosystems<br><br>  
                    <em>Connection will be restored soon - Ubuntu: "We rise together!" üåç</em>`,   
                    false,  
                    { confidence: 0.8 }  
                );  
                  
                console.error('API Error:', error);  
            }  
        }  
  
        // Handle Enter key  
        document.getElementById('messageInput').addEventListener('keypress', function(e) {  
            if (e.key === 'Enter') {  
                sendMessage();  
            }  
        });  
  
        // Welcome message  
        window.addEventListener('load', function() {  
            setTimeout(() => {  
                const country = document.getElementById('countrySelect').value.replace('_', ' ');  
                addMessage(  
                    `üåç <strong>Sawubona! Welcome to AfriBot!</strong><br><br>  
                    I'm your African AI assistant powered by Ubuntu philosophy. I understand African business culture, mobile money systems, and can help you succeed in ${country} and across the continent.<br><br>  
                    <strong>Try asking me:</strong><br>  
                    ‚Ä¢ "How can I start a fintech business in Lagos?"<br>  
                    ‚Ä¢ "What does Ubuntu mean for modern entrepreneurs?"<br>  
                    ‚Ä¢ "How do I integrate M-Pesa payments?"<br>  
                    ‚Ä¢ "What are the best startup opportunities in Africa?"<br><br>  
                    <em>Remember: "I am because we are" - Your success strengthens our entire community! ü§ù</em>`,  
                    false,  
                    { confidence: 1.0 }  
                );  
            }, 1000);  
        });  
  
        // Show example queries periodically  
        const examples = [  
            "üí° Try: 'How to raise funding for my African startup?'",  
            "üí° Try: 'What cultural factors should I consider in Nigeria?'",  
            "üí° Try: 'How can Ubuntu philosophy guide my business?'",  
            "üí° Try: 'What are the best mobile money platforms?'",  
            "üí° Try: 'How do I build trust in African markets?'"  
        ];  
  
        let exampleIndex = 0;  
        setInterval(() => {  
            if (messageCount > 0 && messageCount % 5 === 0) {  
                addMessage(examples[exampleIndex % examples.length], false, { confidence: 0.9 });  
                exampleIndex++;  
            }  
        }, 30000);  
  
        // Update country context  
        document.getElementById('countrySelect').addEventListener('change', function() {  
            const country = this.value.replace('_', ' ');  
            addMessage(  
                `üåç Updated to ${country}! I'll now provide advice specific to ${country}'s business culture and market opportunities.`,  
                false,  
                { confidence: 1.0 }  
            );  
        });  
    </script>  
</body>  
  </html>
